<!DOCTYPE html>
<link rel="stylesheet" href="../style.css">
<h1 id="clue">Clue</h1>
<h2 id="execution">Execution</h2>
<p>To build the program:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" title="1">make</a></code></pre></div>
<p>To execute the program:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb2-1" title="1">./game</a></code></pre></div>
<h2 id="initialization">Initialization</h2>
<p>Firstly, I initialize the names of all the rooms, players and items. I pass on these name lists to builder functions where memeory is allocated(using malloc()) to all the pointers and desired struct objects are returned. Now we have a 3 x 3 pointer matrix where each element is pointing to a room choosen randomly, a list of item pointers pointing to items in random rooms and a list of character pointers pointing to characters randomly put in a room. We also randomly choose a character, player and item as an answer and store it in Answer structer. Thus with all the global variables declared and initialized we proceed to the game loop.</p>
<h2 id="game-loop">Game Loop</h2>
<p>The game loop compares the user input with the game's commands and performs the programmed action.</p>
<ul>
<li><p>For "help" and "list" commands, the program prints out a standard set of lines.</p></li>
<li><p>When the user enters a "go" command, the player's location is moved to an adjacent room where the direction is also specified by the user. This is accomplished using helper functions in "rooms.h" which return a pointer to the desired room and I set it as player's current location. I also test for edge case and print out helpful messages.</p></li>
<li><p>The "take" command is used to grab an item from the room and is stored in the player's inventory. I start by checking if there are any items in the room and if it's empty appropriate message gets printed and the game loop continues. Else, the user specified item is removed from the list of items in the room and is added to player's item list. I use the "item<sub>take</sub>()" function to get the pointer of the removed item and finally add it to players list using "add<sub>item</sub>()" function.</p></li>
<li><p>The "drop" command basically does the oppsite of "take" command as it removes an element from player's item list and adds it to the room's item list. At first, I check if there are any items to drop and if not I print a message and continue the game loop. Next, I remove the user specified item from the list if found using the same "item<sub>take</sub>()" function. Finally I add the removed pointer to the list of items in the room using "add<sub>item</sub>()" function.</p></li>
<li><p>The "inventory" command prints all the items that was taken by the player from the rooms they have been to.</p></li>
<li><p>The "clue" command triggers an array of activities. Firstly, it moves the user specified character to the current room of the player. Then it does a number of conditional checking to see if the player has won the game or not. Firstly, it tests if the player is in the same room as that of answer. Next, it tests if the answer character is the room and it answer item is also in the room. I get the names of location, item and character and compare with that of answer using "strcmp()" to check if the player has won the game.</p></li>
</ul>
<h2 id="end-state">End State</h2>
<p>If all the three conditions match the player wins the game. To accomplish this I've used a counter variable to track all the matches and once the player gets all the matches right, I free all the variables using "free<sub>variables</sub>()" function and exit the program.</p>
<p>In the case where the player is not able to get all three matches using 10 clue commands, an appropriate message gets printed and all the variables freed.</p>
<h2 id="video-link">Video Link</h2>
<p>Here's the link to video: <a href="https://youtu.be/4NRBjDFXSv4">Youtube</a></p>
